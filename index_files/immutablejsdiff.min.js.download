!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("immutable"));else if("function"==typeof define&&define.amd)define(["immutable"],t);else{var r=t("object"==typeof exports?require("immutable"):e.immutable);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=r(1),o=r(2),i=r(3),u=r(4),a=u.concat,c=u.escape,s=o.op,f=o.isMap,l=o.isIndexed,p=function(e,t,r){var o=[],i=r||"";if(n.is(e,t)||e==t==null)return o;var u=l(e)&&l(t),g=null,d=null;return e.forEach&&e.forEach(function(e,r){if(t.has(r))if(f(e)&&f(t.get(r)))o=o.concat(p(e,t.get(r),a(i,c(r))));else if(l(t.get(r))&&l(e))o=o.concat(v(e,t.get(r),a(i,c(r))));else{var n=t.get?t.get(r):t,m=e!==n;m&&o.push(s("replace",a(i,c(r)),n))}else u?(d=null!=g&&g+1===r?d:r,o.push(s("remove",a(i,c(d)))),g=r):o.push(s("remove",a(i,c(r))))}),t.forEach(function(t,r){e.has&&!e.has(r)&&o.push(s("add",a(i,c(r)),t))}),o},v=function(e,t,r){var o=[],u=r||"";if(n.is(e,t)||e==t==null)return o;if(t.count()>100)return p(e,t,r);var c=i.diff(e,t),l=0;return c.forEach(function(e){if("="===e.op)l++;else if("!="===e.op){if(f(e.val)&&f(e.newVal)){var t=p(e.val,e.newVal,a(u,l));o=o.concat(t)}else o.push(s("replace",a(u,l),e.newVal));l++}else"+"===e.op?(o.push(s("add",a(u,l),e.val)),l++):"-"===e.op&&o.push(s("remove",a(u,l)))}),o},g=function(e,t,r){var n=r||"";return e===t?[]:[s("replace",a(n,""),t)]},d=function(e,t,r){return n.is(e,t)?n.List():e==t||null!=e&&null!=t?l(e)&&l(t)?n.fromJS(v(e,t)):f(e)&&f(t)?n.fromJS(p(e,t)):n.fromJS(g(e,t,r)):n.fromJS([s("replace","/",t)])};e.exports=d},function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(1),o=function(e){return n.Iterable.isKeyed(e)},i=function(e){return n.Iterable.isIndexed(e)},u=function(e,t,r){return"remove"===e?{op:e,path:t}:{op:e,path:t,value:r}};e.exports={isMap:o,isIndexed:i,op:u}},function(e,t,r){"use strict";function n(e,t){for(var r=e.size||0,n=t.size||0,u=i(r+1,n+1,0),a=0;r>a;a++)for(var c=0;n>c;c++)o.is(e.get(a),t.get(c))?u[a+1][c+1]=u[a][c]+1:u[a+1][c+1]=Math.max(u[a+1][c],u[a][c+1]);return u}var o=r(1),i=function(e,t,r){for(var n=[],o=0;e>o;o++)if(n[o]=new Array(t),null!=r)for(var i=0;t>i;i++)n[o][i]=r;return n},u=function(e,t){var r=n(e,t);return l(e,t,r)},a=o.Record({op:"=",val:null}),c=o.Record({op:"!=",val:null,newVal:null}),s=function(e,t){var r=n(e,t);return f(r,e,t,e.size||0,t.size||0)},f=function(e,t,r,n,i){return 0===n&&0===i?[]:n>0&&i>0&&o.is(t.get(n-1),r.get(i-1))?f(e,t,r,n-1,i-1).concat(new a({op:"=",val:t.get(n-1)})):n>0&&i>0&&n===i&&!o.is(t.get(n-1),r.get(i-1))?f(e,t,r,n-1,i-1).concat(new c({val:t.get(n-1),newVal:r.get(n-1)})):i>0&&(0===n||e[n][i-1]>=e[n-1][i])?f(e,t,r,n,i-1).concat(new a({op:"+",val:r.get(i-1)})):n>0&&(0===i||e[n][i-1]<e[n-1][i])?f(e,t,r,n-1,i).concat(new a({op:"-",val:t.get(n-1)})):void 0},l=function(e,t,r){for(var n=[],i=e.size,u=t.size;0!==i&&0!==u;)r[i][u]===r[i-1][u]?i--:r[i][u]===r[i][u-1]?u--:o.is(e.get(i-1),t.get(u-1))&&(n.push(e.get(i-1)),i--,u--);return n.reverse()};e.exports={lcs:u,computeLcsMatrix:n,diff:s}},function(e,t){"use strict";var r=new RegExp("/","g"),n=new RegExp("~1","g"),o=/~/g,i=/~0/g,u={escape:function(e){if("number"==typeof e)return e.toString();if("string"!=typeof e)throw"param str ("+e+") is not a string";return e.replace(o,"~0").replace(r,"~1")},unescape:function(e){return"string"==typeof e?e.replace(n,"/").replace(i,"~"):e},concat:function(e,t){return e+"/"+t}};e.exports=u}])});
