!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.imageClientApi=t():e.imageClientApi=t()}(this,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13)}([function(e,t,i){"use strict";var r={JPG:"jpg",JPEG:"jpeg",JPE:"jpe",PNG:"png",WEBP:"webp",WIX_ICO_MP:"wix_ico_mp",WIX_MP:"wix_mp",GIF:"gif",SVG:"svg",UNRECOGNIZED:"unrecognized"},a=[r.JPG,r.JPEG,r.JPE,r.PNG,r.GIF,r.WEBP];e.exports={alignTypes:{CENTER:"center",TOP:"top",TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",LEFT:"left",RIGHT:"right"},alignTypesMap:{center:"c",top:"t",top_left:"tl",top_right:"tr",bottom:"b",bottom_left:"bl",bottom_right:"br",left:"l",right:"r"},transformTypes:{FIT:"fit",FILL:"fill",FILL_FOCAL:"fill_focal",CROP:"crop",LEGACY_CROP:"legacy_crop",LEGACY_FILL:"legacy_fill"},fittingTypes:{SCALE_TO_FILL:"fill",SCALE_TO_FIT:"fit",STRETCH:"stretch",ORIGINAL_SIZE:"original_size",TILE:"tile",TILE_HORIZONTAL:"tile_horizontal",TILE_VERTICAL:"tile_vertical",FIT_AND_TILE:"fit_and_tile",LEGACY_STRIP_TILE:"legacy_strip_tile",LEGACY_STRIP_TILE_HORIZONTAL:"legacy_strip_tile_horizontal",LEGACY_STRIP_TILE_VERTICAL:"legacy_strip_tile_vertical",LEGACY_STRIP_SCALE_TO_FILL:"legacy_strip_fill",LEGACY_STRIP_SCALE_TO_FIT:"legacy_strip_fit",LEGACY_STRIP_FIT_AND_TILE:"legacy_strip_fit_and_tile",LEGACY_STRIP_ORIGINAL_SIZE:"legacy_strip_original_size",LEGACY_ORIGINAL_SIZE:"actual_size",LEGACY_FIT_WIDTH:"fitWidth",LEGACY_FIT_HEIGHT:"fitHeight",LEGACY_FULL:"full",LEGACY_BG_FIT_AND_TILE:"legacy_tile",LEGACY_BG_FIT_AND_TILE_HORIZONTAL:"legacy_tile_horizontal",LEGACY_BG_FIT_AND_TILE_VERTICAL:"legacy_tile_vertical",LEGACY_BG_NORMAL:"legacy_normal"},htmlTag:{BG:"bg",IMG:"img",SVG:"svg"},upscaleMethods:{AUTO:"auto",CLASSIC:"classic",SUPER:"super"},upscaleMethodsValues:{classic:1,super:2},defaultUSM:{radius:.66,amount:1,threshold:.01},emptyData:{uri:"",css:{img:{},container:{}},attr:{img:{},container:{}}},imageQuality:{HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW",TINY:"TINY"},imageFilters:{CONTRAST:"contrast",BRIGHTNESS:"brightness",SATURATION:"saturation",HUE:"hue",BLUR:"blur"},imageScaleDefaults:{HIGH:{size:196e4,quality:90,maxUpscale:1},MEDIUM:{size:36e4,quality:85,maxUpscale:1},LOW:{size:16e4,quality:80,maxUpscale:1.2},TINY:{size:0,quality:80,maxUpscale:1.4}},fileType:r,supportedExtensions:a,webp:{LOSSLESS:"lossless",LOSSY:"lossy",ALPHA:"alpha",ANIMATION:"animation"},noWEBP:{lossless:!1,lossy:!1,alpha:!1,animation:!1},DSKTP_MAX_BG_SITE_LEGACY_WIDTH:1920,MOBILE_MAX_BG_SITE_LEGACY_WIDTH:1e3,DSKTP_MAX_BG_SITE_LEGACY_HEIGHT:1920,MOBILE_MAX_BG_SITE_LEGACY_HEIGHT:1e3,SAFE_TRANSFORMED_AREA:25e6,SUPER_UPSCALE_MODELS:[1.5,2,4],MAX_DEVICE_PIXEL_RATIO:2,API_VERSION:"v1"}},function(e,t,i){"use strict";var r=i(3),a=i(0);function n(e){var t=[a.fileType.PNG,a.fileType.JPEG,a.fileType.JPG,a.fileType.JPE,a.fileType.WIX_ICO_MP,a.fileType.WIX_MP];return r.includes(t,c(e))}function o(e){return r.includes(["webp"],c(e))}function s(e){return/(^https?)|(^data)|(^\/\/)/.test(e)}function c(e){return(/[.]([^.]+)$/.exec(e)&&/[.]([^.]+)$/.exec(e)[1]||"").toLowerCase()}function h(e,t,i,r,n){return n===a.transformTypes.FILL?function(e,t,i,r){return Math.max(i/e,r/t)}(e,t,i,r):n===a.transformTypes.FIT?function(e,t,i,r){return Math.min(i/e,r/t)}(e,t,i,r):1}function u(e,t){var i=g(e,t);return{optimizedScaleFactor:a.imageScaleDefaults[i].maxUpscale,upscaleMethodValue:a.upscaleMethodsValues.classic,forceUSM:!1}}function p(e,t){var i=g(e,t);return{optimizedScaleFactor:a.imageScaleDefaults[i].maxUpscale,upscaleMethodValue:a.upscaleMethodsValues.classic,forceUSM:!1}}function l(e,t,i){return{optimizedScaleFactor:r.last(a.SUPER_UPSCALE_MODELS),upscaleMethodValue:a.upscaleMethodsValues.super,forceUSM:!(a.SUPER_UPSCALE_MODELS.includes(i)||i>r.last(a.SUPER_UPSCALE_MODELS))}}function g(e,t){var i=e*t;return i>a.imageScaleDefaults[a.imageQuality.HIGH].size?a.imageQuality.HIGH:i>a.imageScaleDefaults[a.imageQuality.MEDIUM].size?a.imageQuality.MEDIUM:i>a.imageScaleDefaults[a.imageQuality.LOW].size?a.imageQuality.LOW:a.imageQuality.TINY}function T(e,t){var i=Math.pow(10,t||0);return(e*i/i).toFixed(parseInt(t,10))}e.exports.isImageTransformApplicable=function(e){return n(e)&&!s(e)},e.exports.isValidRequest=function(e,t,i){return i&&t&&!(!(n=t.id)||!n.trim()||"none"===n.toLowerCase())&&r.includes(a.fittingTypes,e);var n},e.exports.isImageTypeSupported=n,e.exports.isExternalUrl=s,e.exports.isWEBP=o,e.exports.isSEOBot=function(e){return e&&e.isSEOBot||!1},e.exports.getFileType=function(e){return function(e){return r.includes([a.fileType.JPEG,a.fileType.JPG,a.fileType.JPE],c(e))}(e)?a.fileType.JPG:function(e){return r.includes(["png"],c(e))}(e)?a.fileType.PNG:o(e)?a.fileType.WEBP:a.fileType.UNRECOGNIZED},e.exports.getFileExtension=c,e.exports.getFileName=function(e,t){var i=/\.([^.]*)$/;if("string"==typeof t&&t.length){var n=["/","\\","?","<",">","|","â€œ",":",'"'].map(encodeURIComponent),o=new RegExp("("+n.concat(["\\.","\\*"]).join("|")+")","g"),s=t,c=t.match(i);return c&&r.includes(a.supportedExtensions,c[1])&&(s=t.replace(i,"")),encodeURIComponent(s).replace(o,"_")}var h=e.match(/\/(.*?)$/);return(h?h[1]:e).replace(i,"")},e.exports.getAlignedRect=function(e,t,i){var r,n;switch(i){case a.alignTypes.CENTER:r=Math.max(0,(e.width-t.width)/2),n=Math.max(0,(e.height-t.height)/2);break;case a.alignTypes.TOP:r=Math.max(0,(e.width-t.width)/2),n=0;break;case a.alignTypes.TOP_LEFT:r=0,n=0;break;case a.alignTypes.TOP_RIGHT:r=Math.max(0,e.width-t.width),n=0;break;case a.alignTypes.BOTTOM:r=Math.max(0,(e.width-t.width)/2),n=Math.max(0,e.height-t.height);break;case a.alignTypes.BOTTOM_LEFT:r=0,n=Math.max(0,e.height-t.height);break;case a.alignTypes.BOTTOM_RIGHT:r=Math.max(0,e.width-t.width),n=Math.max(0,e.height-t.height);break;case a.alignTypes.LEFT:r=0,n=Math.max(0,(e.height-t.height)/2);break;case a.alignTypes.RIGHT:r=Math.max(0,e.width-t.width),n=Math.max(0,(e.height-t.height)/2)}return{x:e.x?e.x+r:r,y:e.y?e.y+n:n,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},e.exports.getOverlappingRect=function(e,t){var i=Math.max(0,Math.min(e.width,t.x+t.width)-Math.max(0,t.x)),r=Math.max(0,Math.min(e.height,t.y+t.height)-Math.max(0,t.y));return i&&r&&(e.width!==i||e.height!==r)?{x:Math.max(0,t.x),y:Math.max(0,t.y),width:i,height:r}:null},e.exports.getScaleFactor=h,e.exports.getTransformData=function(e,t,i,r,n,o){var s=function(e,t,i,r,n){var o,s,c;if(o=h(e,t,i,r,n),n===a.transformTypes.FILL?(s=i,c=r):n===a.transformTypes.FIT&&(s=e*o,c=t*o),s*c>a.SAFE_TRANSFORMED_AREA){var u=Math.sqrt(a.SAFE_TRANSFORMED_AREA/(s*c));o=h(e,t,s*=u,c*=u,n)}return{scaleFactor:o,width:s,height:c}}(e=e||i.width,t=t||i.height,i.width*r,i.height*r,n),c=s.scaleFactor;return function(e,t,i,r,n,o,s){var c,h,g=function(e,t,i,r){return{classic:u,auto:p,super:l}[r](e,t,i)}(e,t,o,n),T=g.optimizedScaleFactor,f=g.upscaleMethodValue,d=g.forceUSM;if(o<=T)return{width:i,height:r,scaleFactor:o,upscaleMethodValue:f,forceUSM:d,cssUpscaleNeeded:!1};switch(s){case a.transformTypes.FILL:c=i*(T/o),h=r*(T/o);break;case a.transformTypes.FIT:c=e*T,h=t*T}return{width:c,height:h,scaleFactor:T,upscaleMethodValue:f,forceUSM:d,cssUpscaleNeeded:!0}}(e,t,s.width,s.height,o,c,n)},e.exports.getDevicePixelRatio=function(e){return Math.min(e.pixelAspectRatio||1,a.MAX_DEVICE_PIXEL_RATIO)},e.exports.getAlignment=function(e){return a.alignTypesMap[e.alignment]||a.alignTypesMap[a.alignTypes.CENTER]},e.exports.getPreferredImageQuality=function(e,t){return a.imageScaleDefaults[g(e,t)].quality},e.exports.getDimension=function(e,t,i,r,a){var n=h(e,t,i,r,a);return{width:Math.round(e*n),height:Math.round(t*n)}},e.exports.getFocalPoint=function(e){var t=null;return"number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y)||(t={x:T(Math.max(0,Math.min(100,e.x))/100,2),y:T(Math.max(0,Math.min(100,e.y))/100,2)}),t},e.exports.getUpscaleString=function(e){return e&&e.upscaleMethod&&"string"==typeof e.upscaleMethod&&a.upscaleMethods[e.upscaleMethod.toUpperCase()]||a.upscaleMethods.AUTO},e.exports.roundToFixed=T},function(e,t,i){"use strict";var r={isWEBP:i(0).noWEBP,isObjectFitBrowser:!0};e.exports.getFeature=function(e){return r[e]},e.exports.setFeature=function(e,t){r[e]=t}},function(e,t,i){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports.includes=function(e,t){return e.indexOf?e.indexOf(t)>-1:!(!e||"object"!==r(e))&&Object.keys(e).some((function(i){return e[i]===t}))},e.exports.last=function(e){return e[e.length-1]},e.exports.template=function(e){return function(t){var i=e;for(var r in t)t.hasOwnProperty(r)&&(i=i.replace(new RegExp("\\${"+r+"}","g"),t[r]));return i}}},function(e,t,i){"use strict";var r=i(2),a=i(0);function n(e){var t=r.getFeature("isWEBP"),i=new window.Image;i.onload=function(){t[e]=i.width>0&&i.height>0,r.setFeature("isWEBP",t)},i.onerror=function(){t[e]=!1,r.setFeature("isWEBP",t)},i.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}e.exports.checkSupportByUserAgent=function(e,t){var i=t.browser,n=t.os;if(e){var o,s=parseFloat(i.version),c=parseFloat(n.version),h=new RegExp(/AppleWebKit\/([\d.]+)/),u=null===h.exec(e)?null:parseFloat(h.exec(e)[1]),p=function(e,t,i,r,a){var n=!e.phone&&!e.tablet&&i.chrome&&r>=23,o=e.android&&(e.phone||e.tablet)&&i.webkit&&i.chrome&&r>=25,s=e.android&&a<535&&(e.phone||e.tablet)&&t>=4.2&&i.webkit&&!i.safari,c=i.edge&&r>=18,h=!e.firefoxos&&i.firefox&&!i.webkit&&r>=65;return!!(n||o||s||c||h)}(n,c,i,s,u);r.setFeature("isWEBP",((o={})[a.webp.LOSSY]=function(e,t,i,r,a){var n=!e.phone&&!e.tablet&&i.chrome&&r>=17,o=e.android&&(e.phone||e.tablet)&&i.webkit&&i.chrome&&r>=25,s=e.android&&a<535&&(e.phone||e.tablet)&&t>=4&&i.webkit,c=i.edge&&r>=18,h=!e.firefoxos&&i.firefox&&!i.webkit&&r>=65;return!!(n||o||s||c||h)}(n,c,i,s,u),o[a.webp.LOSSLESS]=p,o[a.webp.ALPHA]=p,o[a.webp.ANIMATION]=function(e,t,i,r){var a=!e.ios&&i.chrome&&r>=32,n=i.edge&&r>=18,o=!e.firefoxos&&i.firefox&&!i.webkit&&r>=65;return!!(a||n||o)}(n,0,i,s),o))}},e.exports.checkSupportByFeatureDetection=function(){n(a.webp.LOSSY),n(a.webp.LOSSLESS),n(a.webp.ALPHA),n(a.webp.ANIMATION)},e.exports.isWEBPBrowserSupport=function(e){var t=r.getFeature("isWEBP"),i=e===a.fileType.JPG&&t[a.webp.LOSSY],n=e===a.fileType.PNG&&t[a.webp.LOSSLESS],o=e===a.fileType.PNG&&t[a.webp.ALPHA];return i||n&&o}},function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i(1),o=n.isSEOBot,s=n.getFileType,c=n.getFileName,h=n.getFileExtension,u=n.getDevicePixelRatio,p=n.getUpscaleString,l=n.isImageTransformApplicable,g=i(6),T=g.isMobile,f=g.isWEBPBrowserSupport,d=i(9),_=i(10),m=i(0);e.exports.getTransform=function(e,t,i,r){var a=o(r),n=s(t.id),g=c(t.id,t.name),T=h(t.id),m=!a&&f(n),A=a?1:u(i),I={fileName:g,fileExtension:T,fileType:n,isWEBPSupport:m,fittingType:e,preferredExtension:m?"webp":T,src:{id:t.id,width:t.width,height:t.height,isCropped:!1},focalPoint:{x:t.focalPoint&&t.focalPoint.x,y:t.focalPoint&&t.focalPoint.y},parts:[],devicePixelRatio:A,quality:0,upscaleMethod:p(r),progressive:!0,watermark:"",unsharpMask:{},filters:{}};return l(t.id)&&(d.setTransformParts(I,t,i),_.setTransformOptions(I,r)),I},e.exports.getTarget=function(e,t,i){var n=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},i),o=T();switch(e){case m.fittingTypes.LEGACY_BG_FIT_AND_TILE:case m.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case m.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case m.fittingTypes.LEGACY_BG_NORMAL:var s=o?m.MOBILE_MAX_BG_SITE_LEGACY_WIDTH:m.DSKTP_MAX_BG_SITE_LEGACY_WIDTH,c=o?m.MOBILE_MAX_BG_SITE_LEGACY_HEIGHT:m.DSKTP_MAX_BG_SITE_LEGACY_HEIGHT;n.width=Math.min(s,t.width),n.height=Math.min(c,Math.round(n.width/(t.width/t.height))),n.pixelAspectRatio=1}return n}},function(e,t,i){"use strict";var r=i(4),a=i(2);e.exports.isWEBPBrowserSupport=r.isWEBPBrowserSupport,e.exports.isObjectFitBrowserSupport=function(){return a.getFeature("isObjectFitBrowser")},e.exports.isMobile=function(){return a.getFeature("isMobile")}},function(e,t,i){"use strict";var r=i(0).noWEBP,a=i(8),n=i(4),o=i(2);e.exports.populateGlobalFeatureSupport=function(e){var t;void 0===e&&(e=""),"undefined"!=typeof window&&"undefined"!=typeof navigator?((t=a(navigator.userAgent)).browser.safari||t.os.iphone||t.os.ipad?o.setFeature("isWEBP",r):(n.checkSupportByUserAgent(navigator.userAgent,t),n.checkSupportByFeatureDetection()),o.setFeature("isObjectFitBrowser","objectFit"in window.document.documentElement.style),o.setFeature("isMobile",t.os.phone)):(t=a(e),n.checkSupportByUserAgent(e,t),o.setFeature("isMobile",t.os.phone))}},function(e,t,i){e.exports=function(){"use strict";
/*!
     * Based on Zepto's detect module - https://github.com/madrobby/zepto/blob/master/src/detect.js#files
     * Zepto.js may be freely distributed under the MIT license. See: https://github.com/madrobby/zepto/blob/master/MIT-LICENSE
     *
     * note - MS Edge detection was added here, which Zepto does not have.
     */return function(e){var t={},i={};if(!e)return{browser:i,os:t};var r=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=!!e.match(/\(Macintosh\; Intel /),o=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),h=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=e.match(/Windows Phone ([\d.]+)/),p=h&&e.match(/TouchPad/),l=e.match(/Kindle\/([\d.]+)/),g=e.match(/Silk\/([\d._]+)/),T=e.match(/(BlackBerry).*Version\/([\d.]+)/),f=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),_=e.match(/PlayBook/),m=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),A=e.match(/Firefox\/([\d.]+)/),I=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),E=!m&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),L=E||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),b=e.match(/Edge\/(\d{2,}\.[\d\w]+)$/),O=e.match(/Opera Mini/);return i.webkit=r&&!b,i.webkit&&(i.version=r[1]),a&&(t.android=!0,t.version=a[2]),c&&!s&&(t.ios=t.iphone=!0,t.version=c[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),s&&(t.ios=t.ipod=!0,t.version=s[3]?s[3].replace(/_/g,"."):null),u&&(t.wp=!0,t.version=u[1]),h&&(t.webos=!0,t.version=h[2]),p&&(t.touchpad=!0),T&&(t.blackberry=!0,t.version=T[2]),f&&(t.bb10=!0,t.version=f[2]),d&&(t.rimtabletos=!0,t.version=d[2]),_&&(i.playbook=!0),l&&(t.kindle=!0,t.version=l[1]),g&&(i.silk=!0,i.version=g[1]),!g&&t.android&&e.match(/Kindle Fire/)&&(i.silk=!0),m&&!b&&(i.chrome=!0,i.version=m[1]),A&&!b&&(i.firefox=!0,i.version=A[1]),I&&(i.ie=!0,i.version=I[1]),L&&(n||t.ios)&&(i.safari=!0,n&&(i.version=L[1])),E&&(i.webview=!0),b&&(i.edge=!0,i.version=b[1]),O&&(i.operaMini=!0),t.tablet=!!(o||_||a&&!e.match(/Mobile/)||A&&e.match(/Tablet/)||(I||b)&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(a||c||h||T||f||m&&e.match(/Android/)||m&&e.match(/CriOS\/([\d.]+)/)||A&&e.match(/Mobile/)||I&&e.match(/Touch/))),t.mac=n,t.googleBot=!!e.match(/Googlebot\/2.1/),{browser:i,os:t}}}()},function(e,t,i){"use strict";var r=i(0),a=i(1),n=a.getAlignment,o=a.getScaleFactor,s=a.getOverlappingRect,c=a.getAlignedRect,h=a.getTransformData,u=a.getFocalPoint;function p(e,t){var i=h(e.src.width,e.src.height,t,e.devicePixelRatio,r.transformTypes.FIT,e.upscaleMethod);return{transformType:r.transformTypes.FILL,width:Math.round(i.width),height:Math.round(i.height),alignment:r.alignTypesMap.center,upscale:i.scaleFactor>1,forceUSM:i.forceUSM,scaleFactor:i.scaleFactor,cssUpscaleNeeded:i.cssUpscaleNeeded,upscaleMethodValue:i.upscaleMethodValue}}function l(e){return{transformType:r.transformTypes.CROP,x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}e.exports.setTransformParts=function(e,t,i){var a;switch(t.crop&&(a=s(t,t.crop))&&(e.src.width=a.width,e.src.height=a.height,e.src.cropped=!0,e.parts.push(l(a))),e.fittingType){case r.fittingTypes.SCALE_TO_FIT:case r.fittingTypes.LEGACY_FIT_WIDTH:case r.fittingTypes.LEGACY_FIT_HEIGHT:case r.fittingTypes.LEGACY_FULL:case r.fittingTypes.FIT_AND_TILE:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case r.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case r.fittingTypes.LEGACY_BG_NORMAL:e.parts.push(p(e,i));break;case r.fittingTypes.SCALE_TO_FILL:e.parts.push(function(e,t){var i=h(e.src.width,e.src.height,t,e.devicePixelRatio,r.transformTypes.FILL,e.upscaleMethod),a=u(e.focalPoint);return{transformType:a?r.transformTypes.FILL_FOCAL:r.transformTypes.FILL,width:Math.round(i.width),height:Math.round(i.height),alignment:n(t),focalPointX:a&&a.x,focalPointY:a&&a.y,upscale:i.scaleFactor>1,forceUSM:i.forceUSM,scaleFactor:i.scaleFactor,cssUpscaleNeeded:i.cssUpscaleNeeded,upscaleMethodValue:i.upscaleMethodValue}}(e,i));break;case r.fittingTypes.STRETCH:e.parts.push(function(e,t){var i=o(e.src.width,e.src.height,t.width,t.height,r.transformTypes.FILL),a=Object.assign({},t);return a.width=e.src.width*i,a.height=e.src.height*i,p(e,a)}(e,i));break;case r.fittingTypes.TILE_HORIZONTAL:case r.fittingTypes.TILE_VERTICAL:case r.fittingTypes.TILE:case r.fittingTypes.LEGACY_ORIGINAL_SIZE:case r.fittingTypes.ORIGINAL_SIZE:a=c(e.src,i,i.alignment),e.src.isCropped?(Object.assign(e.parts[0],a),e.src.width=a.width,e.src.height=a.height):e.parts.push(l(a));break;case r.fittingTypes.LEGACY_STRIP_TILE_HORIZONTAL:case r.fittingTypes.LEGACY_STRIP_TILE_VERTICAL:case r.fittingTypes.LEGACY_STRIP_TILE:case r.fittingTypes.LEGACY_STRIP_ORIGINAL_SIZE:e.parts.push(function(e){return{transformType:r.transformTypes.LEGACY_CROP,width:Math.round(e.width),height:Math.round(e.height),alignment:n(e),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}(i));break;case r.fittingTypes.LEGACY_STRIP_SCALE_TO_FIT:case r.fittingTypes.LEGACY_STRIP_FIT_AND_TILE:e.parts.push(function(e){return{transformType:r.transformTypes.FIT,width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(i));break;case r.fittingTypes.LEGACY_STRIP_SCALE_TO_FILL:e.parts.push(function(e){return{transformType:r.transformTypes.LEGACY_FILL,width:Math.round(e.width),height:Math.round(e.height),alignment:n(e),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(i))}}},function(e,t,i){"use strict";var r=i(3),a=i(0),n=i(1),o=n.getPreferredImageQuality,s=n.roundToFixed;function c(e,t,i){return!isNaN(e)&&"number"==typeof e&&0!==e&&e>=t&&e<=i}e.exports.setTransformOptions=function(e,t){t=t||{},e.quality=function(e,t){var i=e.fileType===a.fileType.PNG&&e.isWEBPSupport;if(e.fileType===a.fileType.JPG||i){var n=r.last(e.parts),s=o(n.width,n.height),c=t.quality&&t.quality>=5&&t.quality<=90?t.quality:s;return c=i?c+5:c,parseInt(c,10)}return 0}(e,t),e.progressive=function(e){return!1!==e.progressive}(t),e.watermark=function(e){return e.watermark}(t),e.unsharpMask=function(e,t){var i;!function(e){e=e||{};var t=!isNaN(e.radius)&&"number"==typeof e.radius&&e.radius>=.1&&e.radius<=500,i=!isNaN(e.amount)&&"number"==typeof e.amount&&e.amount>=0&&e.amount<=10,r=!isNaN(e.threshold)&&"number"==typeof e.threshold&&e.threshold>=0&&e.threshold<=255;return t&&i&&r}(t.unsharpMask)?function(e){return e=e||{},!isNaN(e.radius)&&"number"==typeof e.radius&&0===e.radius&&!isNaN(e.amount)&&"number"==typeof e.amount&&0===e.amount&&!isNaN(e.threshold)&&"number"==typeof e.threshold&&0===e.threshold}(t.unsharpMask)||function(e){var t=r.last(e.parts);return!(t.scaleFactor>=1)||t.forceUSM}(e)&&(i=a.defaultUSM):i={radius:t.unsharpMask.radius,amount:t.unsharpMask.amount,threshold:t.unsharpMask.threshold};i&&(i.radius=s(i.radius,2),i.amount=s(i.amount,2),i.threshold=s(i.threshold,2));return i}(e,t),e.filters=function(e){var t=e.filters||{},i={};c(t[a.imageFilters.CONTRAST],-100,100)&&(i[a.imageFilters.CONTRAST]=t[a.imageFilters.CONTRAST]);c(t[a.imageFilters.BRIGHTNESS],-100,100)&&(i[a.imageFilters.BRIGHTNESS]=t[a.imageFilters.BRIGHTNESS]);c(t[a.imageFilters.SATURATION],-100,100)&&(i[a.imageFilters.SATURATION]=t[a.imageFilters.SATURATION]);c(t[a.imageFilters.HUE],-180,180)&&(i[a.imageFilters.HUE]=t[a.imageFilters.HUE]);c(t[a.imageFilters.BLUR],0,100)&&(i[a.imageFilters.BLUR]=t[a.imageFilters.BLUR]);return i}(t)}},function(e,t,i){"use strict";var r=i(0),a=i(1).isImageTransformApplicable,n=i(12),o=i(5);e.exports.getURI=function(e,t,i,s,c){var h=r.emptyData.uri;return a(t.id)?(c=c||o.getTransform(e,t,i,s,c),h=n.getImageURI(c)):h=t.id,h}},function(e,t,i){"use strict";var r,a=i(3),n=i(0),o=n.imageFilters,s=n.transformTypes,c=n.API_VERSION,h=a.template("fit/w_${width},h_${height}"),u=a.template("fill/w_${width},h_${height},al_${alignment}"),p=a.template("fill/w_${width},h_${height},fp_${focalPointX}_${focalPointY}"),l=a.template("crop/x_${x},y_${y},w_${width},h_${height}"),g=a.template("crop/w_${width},h_${height},al_${alignment}"),T=a.template("fill/w_${width},h_${height},al_${alignment}"),f=a.template(",lg_${upscaleMethodValue}"),d=a.template(",q_${quality}"),_=a.template(",usm_${radius}_${amount}_${threshold}"),m=a.template(",bl"),A=a.template(",wm_${watermark}"),I=((r={})[o.CONTRAST]=a.template(",con_${contrast}"),r[o.BRIGHTNESS]=a.template(",br_${brightness}"),r[o.SATURATION]=a.template(",sat_${saturation}"),r[o.HUE]=a.template(",hue_${hue}"),r[o.BLUR]=a.template(",blur_${blur}"),r);e.exports.getImageURI=function(e){var t=[];e.parts.forEach((function(e){switch(e.transformType){case s.CROP:t.push(l(e));break;case s.LEGACY_CROP:t.push(g(e));break;case s.LEGACY_FILL:var i=T(e);e.upscale&&(i+=f(e)),t.push(i);break;case s.FIT:var r=h(e);e.upscale&&(r+=f(e)),t.push(r);break;case s.FILL:var a=u(e);e.upscale&&(a+=f(e)),t.push(a);break;case s.FILL_FOCAL:var n=p(e);e.upscale&&(n+=f(e)),t.push(n)}}));var i=t.join("/");return e.quality&&(i+=d(e)),e.unsharpMask&&(i+=_(e.unsharpMask)),e.progressive||(i+=m(e)),e.watermark&&(i+=A(e)),e.filters&&(i+=Object.keys(e.filters).map((function(t){return I[t](e.filters)})).join("")),e.src.id+"/"+c+"/"+i+"/"+e.fileName+"."+e.preferredExtension}},function(e,t,i){"use strict";var r=i(0),a=i(7).populateGlobalFeatureSupport,n=i(14),o=n.getData,s=n.getPlaceholder;a(),e.exports.populateGlobalFeatureSupport=a,e.exports.getData=o,e.exports.getPlaceholder=s,e.exports.fittingTypes=r.fittingTypes,e.exports.alignTypes=r.alignTypes,e.exports.htmlTag=r.htmlTag,e.exports.upscaleMethods=r.upscaleMethods},function(e,t,i){"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(0),s=i(1).isValidRequest,c=i(15),h=i(5),u=i(11).getURI,p=i(20),l=p.getScaledDimensions,g=p.getBlurValue,T=p.getCSSOverrides,f=p.validateTargetDimensions,d=p.getIsFakeTile,_=p.getConvertedFitting;function m(e,t,i,r){var a={};if(s(e,t,i)){var n=h.getTarget(e,t,i),p=h.getTransform(e,t,n,r);a.uri=u(e,t,n,r,p),Object.assign(a,c.getAttributes(p,n))}else a=o.emptyData;return a}e.exports.getData=m,e.exports.getPlaceholder=function(e,t,i,r){if(void 0===r&&(r={}),!s(e,t,i))return o.emptyData;var n=a(a({},i),f(t,i)),c=i.alignment,h=i.htmlTag,u=r.isSEOBot,p=d(e,t,n),A=l(e,t,n,u),I=g(n.width,e,u),E=_(e,p),L=T(e,t,i,c),b=m(E,t,a(a({},A),{},{alignment:c,htmlTag:h}),{filters:{blur:I}}).uri,O=m(e,t,a(a({},n),{},{alignment:c,htmlTag:h})),y=O.attr,S=void 0===y?{}:y,w=O.css;return w.img=w.img||{},w.container=w.container||{},Object.assign(w.img,L.img),Object.assign(w.container,L.container),{uri:b,css:w,attr:S}}},function(e,t,i){"use strict";var r=i(0).htmlTag,a=i(6).isObjectFitBrowserSupport,n=i(16),o=i(17),s=i(18),c=i(19);e.exports.getAttributes=function(e,t){return(t.htmlTag===r.BG?n:t.htmlTag===r.SVG?s:a()?o:c).get(e,t)}},function(e,t,i){"use strict";var r=i(0),a=r.alignTypes,n=r.fittingTypes;e.exports.get=function(e,t){var i={css:{container:{}}},r=i.css;switch(e.fittingType){case n.ORIGINAL_SIZE:case n.LEGACY_ORIGINAL_SIZE:case n.LEGACY_STRIP_ORIGINAL_SIZE:r.container.backgroundSize="auto",r.container.backgroundRepeat="no-repeat";break;case n.SCALE_TO_FIT:case n.LEGACY_STRIP_SCALE_TO_FIT:r.container.backgroundSize="contain",r.container.backgroundRepeat="no-repeat";break;case n.STRETCH:r.container.backgroundSize="100% 100%",r.container.backgroundRepeat="no-repeat";break;case n.SCALE_TO_FILL:case n.LEGACY_STRIP_SCALE_TO_FILL:r.container.backgroundSize="cover",r.container.backgroundRepeat="no-repeat";break;case n.TILE_HORIZONTAL:case n.LEGACY_STRIP_TILE_HORIZONTAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-x";break;case n.TILE_VERTICAL:case n.LEGACY_STRIP_TILE_VERTICAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-y";break;case n.TILE:case n.LEGACY_STRIP_TILE:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat";break;case n.FIT_AND_TILE:case n.LEGACY_STRIP_FIT_AND_TILE:r.container.backgroundSize="contain",r.container.backgroundRepeat="repeat";break;case n.LEGACY_BG_FIT_AND_TILE:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat";break;case n.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-x";break;case n.LEGACY_BG_FIT_AND_TILE_VERTICAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-y";break;case n.LEGACY_BG_NORMAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="no-repeat"}switch(t.alignment){case a.CENTER:r.container.backgroundPosition="center center";break;case a.LEFT:r.container.backgroundPosition="left center";break;case a.RIGHT:r.container.backgroundPosition="right center";break;case a.TOP:r.container.backgroundPosition="center top";break;case a.BOTTOM:r.container.backgroundPosition="center bottom";break;case a.TOP_RIGHT:r.container.backgroundPosition="right top";break;case a.TOP_LEFT:r.container.backgroundPosition="left top";break;case a.BOTTOM_RIGHT:r.container.backgroundPosition="right bottom";break;case a.BOTTOM_LEFT:r.container.backgroundPosition="left bottom"}return i}},function(e,t,i){"use strict";var r,a=i(0),n=a.alignTypes,o=a.fittingTypes;var s=((r={})[n.CENTER]="center",r[n.TOP]="top",r[n.TOP_LEFT]="top left",r[n.TOP_RIGHT]="top right",r[n.BOTTOM]="bottom",r[n.BOTTOM_LEFT]="bottom left",r[n.BOTTOM_RIGHT]="bottom right",r[n.LEFT]="left",r[n.RIGHT]="right",r),c={position:"absolute",top:"auto",right:"auto",bottom:"auto",left:"auto"};e.exports={get:function(e,t){var i={css:{container:{},img:{}}},r=i.css,a=e.fittingType,h=t.alignment;switch(r.container.position="relative",a){case o.ORIGINAL_SIZE:case o.LEGACY_ORIGINAL_SIZE:e.parts&&e.parts.length?(r.img.width=e.parts[0].width,r.img.height=e.parts[0].height):(r.img.width=e.src.width,r.img.height=e.src.height);break;case o.SCALE_TO_FIT:case o.LEGACY_FIT_WIDTH:case o.LEGACY_FIT_HEIGHT:case o.LEGACY_FULL:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="contain",r.img.objectPosition=s[h]||"unset";break;case o.LEGACY_BG_NORMAL:r.img.width="100%",r.img.height="100%",r.img.objectFit="none",r.img.objectPosition=s[h]||"unset";break;case o.STRETCH:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="fill";break;case o.SCALE_TO_FILL:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="cover"}if("number"==typeof r.img.width&&(r.img.width!==t.width||r.img.height!==t.height)){var u=Math.round((t.height-r.img.height)/2),p=Math.round((t.width-r.img.width)/2);Object.assign(r.img,c,function(e,t,i){var r;return(r={})[n.TOP_LEFT]={top:0,left:0},r[n.TOP_RIGHT]={top:0,right:0},r[n.TOP]={top:0,left:t},r[n.BOTTOM_LEFT]={top:0,left:0},r[n.BOTTOM_RIGHT]={bottom:0,right:0},r[n.BOTTOM]={bottom:0,left:t},r[n.RIGHT]={top:e,right:0},r[n.LEFT]={top:e,left:0},r[n.CENTER]={width:i.width,height:i.height,objectFit:"none"},r}(u,p,t)[h])}return i}}},function(e,t,i){"use strict";var r=i(0),a=r.fittingTypes,n=r.alignTypes,o=r.transformTypes,s=i(1),c=s.getDimension,h=s.isImageTransformApplicable;e.exports={get:function(e,t){var i,r={css:{container:{}},attr:{container:{},img:{}}},s=r.css,u=r.attr,p=e.fittingType,l=t.alignment,g=e.src,T=g.width,f=g.height;switch(s.container.position="relative",p){case a.ORIGINAL_SIZE:case a.LEGACY_ORIGINAL_SIZE:case a.TILE:e.parts&&e.parts.length?(u.img.width=e.parts[0].width,u.img.height=e.parts[0].height):(u.img.width=T,u.img.height=f),u.img.preserveAspectRatio="xMidYMid slice";break;case a.SCALE_TO_FIT:case a.LEGACY_FIT_WIDTH:case a.LEGACY_FIT_HEIGHT:case a.LEGACY_FULL:u.img.width="100%",u.img.height="100%",u.img.transform="",u.img.preserveAspectRatio="";break;case a.STRETCH:u.img.width=t.width,u.img.height=t.height,u.img.x=0,u.img.y=0,u.img.transform="",u.img.preserveAspectRatio="none";break;case a.SCALE_TO_FILL:h(e.src.id)?(u.img.width=t.width,u.img.height=t.height):(i=c(T,f,t.width,t.height,o.FILL),u.img.width=i.width,u.img.height=i.height),u.img.x=0,u.img.y=0,u.img.transform="",u.img.preserveAspectRatio="xMidYMid slice"}if("number"==typeof u.img.width&&(u.img.width!==t.width||u.img.height!==t.height)){var d,_,m=0,A=0;p===a.TILE?(d=t.width%u.img.width,_=t.height%u.img.height):(d=t.width-u.img.width,_=t.height-u.img.height);var I=Math.round(d/2),E=Math.round(_/2);switch(l){case n.TOP_LEFT:m=0,A=0;break;case n.TOP:m=I,A=0;break;case n.TOP_RIGHT:m=d,A=0;break;case n.LEFT:m=0,A=E;break;case n.CENTER:m=I,A=E;break;case n.RIGHT:m=d,A=E;break;case n.BOTTOM_LEFT:m=0,A=_;break;case n.BOTTOM:m=I,A=_;break;case n.BOTTOM_RIGHT:m=d,A=_}u.img.x=m,u.img.y=A}return u.container.width=t.width,u.container.height=t.height,u.container.viewBox=[0,0,t.width,t.height].join(" "),r}}},function(e,t,i){"use strict";var r=i(0),a=r.fittingTypes,n=r.alignTypes,o=r.transformTypes,s=i(1),c=s.getDimension,h=s.isImageTypeSupported,u=s.isExternalUrl;e.exports={get:function(e,t){var i,r,s,p={css:{container:{},img:{}}},l=p.css,g=e.fittingType,T=t.alignment;switch(e.parts&&e.parts.length?(i=e.parts[0].width,r=e.parts[0].height):(i=e.src.width,r=e.src.height),l.img.display="block",l.container.position="relative",l.img.position="absolute",l.img.top="auto",l.img.right="auto",l.img.bottom="auto",l.img.left="auto",g){case a.ORIGINAL_SIZE:case a.LEGACY_ORIGINAL_SIZE:l.img.width=i,l.img.height=r;break;case a.SCALE_TO_FIT:case a.LEGACY_FIT_WIDTH:case a.LEGACY_FIT_HEIGHT:case a.LEGACY_FULL:s=c(i,r,t.width,t.height,o.FIT),Object.assign(l.img,s);break;case a.STRETCH:l.img.width=t.width,l.img.height=t.height;break;case a.SCALE_TO_FILL:var f=e.src.id;h(f)||u(f)?(l.img.width=t.width,l.img.height=t.height):(s=c(i,r,t.width,t.height,o.FILL),Object.assign(l.img,s),l.container.overflow="hidden")}if(l.img.width!==t.width||l.img.height!==t.height){var d=Math.round((t.height-l.img.height)/2),_=Math.round((t.width-l.img.width)/2);switch(T){default:case n.CENTER:l.img.top=d,l.img.left=_;break;case n.LEFT:l.img.left=0,l.img.top=d;break;case n.RIGHT:l.img.right=0,l.img.top=d;break;case n.TOP:l.img.left=_,l.img.top=0;break;case n.BOTTOM:l.img.left=_,l.img.bottom=0;break;case n.TOP_RIGHT:l.img.right=0,l.img.top=0;break;case n.TOP_LEFT:l.img.left=0,l.img.top=0;break;case n.BOTTOM_RIGHT:l.img.right=0,l.img.bottom=0;break;case n.BOTTOM_LEFT:l.img.left=0,l.img.bottom=0}}return p}}},function(e,t,i){"use strict";var r,a=i(0),n=a.alignTypes,o=a.fittingTypes,s=((r={})[n.CENTER]="50% 50%",r[n.TOP_LEFT]="0% 0%",r[n.TOP_RIGHT]="100% 0%",r[n.TOP]="50% 0%",r[n.BOTTOM_LEFT]="0% 100%",r[n.BOTTOM_RIGHT]="100% 100%",r[n.BOTTOM]="50% 100%",r[n.RIGHT]="100% 50%",r[n.LEFT]="0% 50%",r),c=Object.entries(s).reduce((function(e,t){var i=t[0];return e[t[1]]=i,e}),{}),h=[o.TILE,o.TILE_HORIZONTAL,o.TILE_VERTICAL,o.LEGACY_BG_FIT_AND_TILE,o.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,o.LEGACY_BG_FIT_AND_TILE_VERTICAL],u=[o.LEGACY_ORIGINAL_SIZE,o.ORIGINAL_SIZE,o.LEGACY_BG_NORMAL];function p(e,t,i){var r=i.width,a=i.height;return e===o.TILE&&t.width>r&&t.height>a}function l(e,t,i){var r=e.width,a=e.height,n=t.width,o=t.height,s=i.x,c=i.y;if(!n||!o)return s+"% "+c+"%";var h=Math.max(n/r,o/a),u=r*h,p=a*h,l=Math.max(0,Math.min(u-n,u*(s/100)-n/2)),g=Math.max(0,Math.min(p-o,p*(c/100)-o/2));return(l&&Math.floor(l/(u-n)*100))+"% "+(g&&Math.floor(g/(p-o)*100))+"%"}e.exports.validateTargetDimensions=function(e,t){var i=t.width,r=t.height;if(!i||!r){var a=i||Math.min(980,e.width),n=a/e.width;return{width:a,height:r||e.height*n}}return{width:i,height:r}},e.exports.getScaledDimensions=function(e,t,i,r){var a=i.width,n=i.height;if(void 0===r&&(r=!1),r)return{width:a,height:n};var o=!u.includes(e),s=p(e,t,{width:a,height:n}),c=!s&&h.includes(e),l=c?t.width:a,g=c?t.height:n,T=o?function(e){if(e>900)return.25;if(e>500)return.3;if(e>200)return.4;return 1}(l):1;return{width:s?1920:l*T,height:g*T}},e.exports.getConvertedFitting=function(e,t){var i=h.includes(e)&&!t;return e===o.SCALE_TO_FILL||i?o.SCALE_TO_FIT:e},e.exports.getIsFakeTile=p,e.exports.getBlurValue=function(e,t,i){return i?0:h.includes(t)?1:e>200?2:3},e.exports.getCSSOverrides=function(e,t,i,r){void 0===r&&(r="center");var a,n,u={img:{},container:{}};if(e===o.SCALE_TO_FILL){var p=t.focalPoint&&(a=t.focalPoint,n=a.x+"% "+a.y+"%",c[n]||""),g=p||r;t.focalPoint&&!p?u.img={objectPosition:l(t,i,t.focalPoint)}:u.img={objectPosition:s[g]}}else[o.LEGACY_ORIGINAL_SIZE,o.ORIGINAL_SIZE].includes(e)?u.img={objectFit:"none",top:"auto",left:"auto",right:"auto",bottom:"auto"}:h.includes(e)&&(u.container={backgroundSize:t.width+"px "+t.height+"px"});return u}}])}));
//# sourceMappingURL=imageClientApi.js.map